
<p-card header="Unidad Academica"  styleClass="p-card-shadow">
    
    <p-table [value]="unidadesAcademicas">
        <ng-template pTemplate="header">
            <tr>
                <th>Nombre</th>
                <th style="width: 4rem"></th>
                
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-unidad>
            <tr>
                <td>{{unidad.descripcion}}</td>
                <td>
                    <button type="button" pButton pRipple icon="pi pi-pencil" (click)="openNew(unidad)"></button>
                </td>
                
            </tr>
        </ng-template>
    </p-table>
    <ng-template pTemplate="footer">

      <p-button label="Nuevo"              
                  (click)="openNew()"
                  class="p-button-success p-mr-2">
        </p-button>
    </ng-template>
</p-card>

<p-dialog [(visible)]="unidadDialog" [style]="{width: '450px'}" 
          header="Acuerdo" [modal]="true" styleClass="p-fluid">
  
  <ng-template pTemplate="content">
    <form [formGroup]="unidadForm" novalidate>
      <div class="p-field">
          <label for="descripcion">Nombre de unidad acad√©mica:</label>
          <textarea id="descripcion" pInputTextarea 
          formControlName="descripcion" rows="3" cols="20">
        </textarea>
          <small class="p-invalid" 
          *ngIf="submitted || 
          unidadForm.get('descripcion').errors?.required">
          Descripcion es obligatoria.
        </small>
      </div>
    </form>
    </ng-template>
    
    <ng-template pTemplate="footer">      
      <button pButton pRipple label="Cancel" icon="pi pi-times" 
      class="p-button-text" (click)="hideDialog()"></button>
      <button pButton 
      [disabled]="unidadForm.get('descripcion').invalid" 
      pRipple label="Save" icon="pi pi-check" class="p-button-text" 
      (click)="saveUnidad()"></button>
      <button *ngIf="unidadForm.get('id').value != 0" pButton pRipple 
      label="Delete" icon="pi pi-trash" class="p-button-text" 
      (click)="deleteUnidad()"></button>
    </ng-template>
  
</p-dialog>


