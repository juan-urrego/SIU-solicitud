
<p-card header="Acuerdo"  styleClass="p-card-shadow">

  <div class="p-field-radiobutton"
       *ngFor="let acuerdo of acuerdos">
      <p-radioButton name="acuerdo" [value]="acuerdo" 
                     [(ngModel)]="acuerdoSelected" 
                     [inputId]="'Acuerdo' + acuerdo.id">
                    </p-radioButton>
      <label [for]="'Acuerdo' + acuerdo.id">{{acuerdo.descripcion}}
      </label>
  </div>

  <ng-template pTemplate="footer">
      <p-button label="Activar" 
                [disabled]="!acuerdoSelected || acuerdoSelected.parametro === 1"
                *ngIf="acuerdos"
                (click)="updateSelected(acuerdoSelected)"
                class="mr-3">
      </p-button>
      <button pButton pRipple 
              icon="pi pi-pencil" 
              *ngIf="acuerdos"
              class="p-button-warning p-mr-2" 
              (click)="openNew(acuerdoSelected)"></button>
      <button pButton pRipple 
              icon="pi pi-times" 
              class="p-button-warning p-mr-2" 
              (click)="deleteSelected()"></button>
      <button pButton pRipple 
              icon="pi pi-plus" 
              class="p-button-success p-mr-2" 
              (click)="openNew()"></button>
            </ng-template>    
</p-card>


<p-dialog [(visible)]="acuerdoDialog" [style]="{width: '450px'}" 
          header="Acuerdo" [modal]="true" styleClass="p-fluid">
  
  <ng-template pTemplate="content">
    <form [formGroup]="acuerdoForm" novalidate>
      <div class="p-field">
          <label for="descripcion">Descripcion:</label>
          <textarea id="descripcion" pInputTextarea 
          formControlName="descripcion" rows="3" cols="20">
        </textarea>
          <small class="p-invalid" 
          *ngIf="submitted || 
          acuerdoForm.get('descripcion').errors?.required">
          Descripcion es obligatoria.
        </small>
      </div>
    </form>
    </ng-template>
    
    <ng-template pTemplate="footer">      
      <button pButton pRipple label="Cancel" icon="pi pi-times" 
      class="p-button-text" (click)="hideDialog()"></button>
      <button pButton 
      [disabled]="acuerdoForm.get('descripcion').invalid" 
      pRipple label="Save" icon="pi pi-check" class="p-button-text" 
      (click)="saveAcuerdo()"></button>
      <button *ngIf="acuerdoForm.get('id').value != 0" pButton pRipple 
      label="Delete" icon="pi pi-trash" class="p-button-text" 
      (click)="deleteAcuerdo()"></button>
    </ng-template>
  
</p-dialog>